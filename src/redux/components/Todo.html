<div style="margin-left:10px; margin-right:10px;">
    <span style="color:blue; font-size:14pt">Todo</span>

    <section id="filterDiv">
        <button [class]="getFilterClass('ALL')" (click)="filter('ALL')">All Todos</button>
        <button [class]="getFilterClass('ACTIVE')" (click)="filter('ACTIVE')">Active Todos</button>
        <button [class]="getFilterClass('COMPLETE')" (click)="filter('COMPLETE')">Complete Todos</button>
    </section>

    <span style="color:green; font-size:10pt" class="pull-right">To see Redux State, Click the<br><i>Toggle Left</i> Button, above</span>

    <section id="newTodoDiv">
        <form>
            <input placeholder="New Todo" id="newTodo" #newTodo />
            <button class="btn btn-small" (click)="addTodo(newTodo)">Add</button>
        </form>
    </section>

    <h2>{{(todoState | async)?.filterName}}</h2>

    <section id="todoList">
        <ul>
            <li *ngFor="#todo of filteredTodos | async; #index = index">
                <button (click)="deleteTodo(todo)"><i class="glyphicon glyphicon-trash"></i></button>
                <span title="{{todo.created | date:'MM/dd/yyyy hh:mm:ss tt'}}" style="font-size:12pt; font-style:italic; color:red">{{todo.created | date:'MM/dd'}}</span>
                <span> | </span>
                <span *ngIf="todo.done" title="{{todo.completed | date:'MM/dd/yyyy hh:mm:ss tt'}}" style="font-size:12pt; font-style:italic; color:green">{{todo.completed | date:'MM/dd'}}</span>
                <span *ngIf="!todo.done" style="font-size:12pt; font-style:italic; color:green">(open)</span>
                <span style="font-size:14pt" [style.text-decoration]="todo.done ? 'line-through' : 'none'" (click)="toggleTodo(todo)" [class]="getTodoClass(todo)">{{todo.id}} - {{todo.description}}</span>

                <div style="display: inline-block; margin-left: 6px; background-color:black; padding: 3px">
                    <span style="margin-left:6px; color:yellow; font-size:12pt" *ngFor="#todoTag of todo.tags" (click)="deleteTag(todo, todoTag)">{{todoTag}}</span>
                </div>

                <input (blur)="tagLostFocus($event)" #tag id="todo_input_{{index}}" (focus)="tagFocus(tag)" style="margin-left:12px" type="text" placeholder="T A G" (keydown)="keydown(todo, tag, $event)" />
            </li>
        </ul>
    </section>
</div>